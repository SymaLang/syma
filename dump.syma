{Universe {Apply Inc {Program {App {State {Demo/Counter/Count 0}} {UI Div(Demo/Counter/:class, "card", {H1 "Counter"}, {P "Value: " {Show Demo/Counter/Count}}, {Button Demo/Counter/:onClick Demo/Counter/Inc Demo/Counter/:class "btn" "Increment"})}}}} {Rules {R "LiftApplyThroughProgramAndApp" {Apply {Var "act"} {Program {App {Var "st"} {Var "ui"}} {Var "eff"}}} {Program {App {Apply {Var "act"} {Var "st"}} {Var "ui"}} {Var "eff"}}} {R "Inc" {Apply Demo/Counter/Inc {State {Demo/Counter/Count {Var "n"}}}} {State {Demo/Counter/Count Add({Var "n"}, 1)}}} {R "ShowCount" {/@ {Show Demo/Counter/Count} {App {State {Demo/Counter/Count {Var "n"}}} {Var "_"}}} {Var "n"}}} {RuleRules}}